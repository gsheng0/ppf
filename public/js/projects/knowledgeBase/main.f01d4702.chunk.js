(this["webpackJsonpknowledge-base"]=this["webpackJsonpknowledge-base"]||[]).push([[0],[function(e,t,n){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.r(t);var a=function(){function e(){l(this,e)}return r(e,null,[{key:"request",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=new XMLHttpRequest;i.open(t,"http://74.102.110.16:9001/"+e),i.setRequestHeader("Content-Type","application/json"),void 0!==n?i.send(n):i.send(),void 0!==l&&(i.onload=function(){l(i)})}},{key:"click",value:function(t){var n=JSON.stringify({preview:t});e.request("select","POST",n,(function(e){var t=JSON.parse(e.response);console.log(t)}))}},{key:"getArticle",value:function(t,n){e.request("get","POST",t,(function(e){var t=JSON.parse(e.response);n(t),console.log(t)}))}},{key:"uploadArticle",value:function(t,n){var l=JSON.stringify(t);e.request("upload","POST",l,(function(e){var t=JSON.parse(e.response);n(t),console.log(t)}))}},{key:"updateArticle",value:function(t){var n=JSON.stringify({id:t.id,title:t.title,content:t.content,date:t.date});e.request("update","POST",n,(function(e){var t=JSON.parse(e.response);console.log(t)}))}},{key:"getAllArticles",value:function(t){e.request("view-all","GET",{},(function(e){var n=JSON.parse(e.response);t(n),console.log(n)}))}},{key:"searchForArticle",value:function(t,n){e.request("search","POST",t,(function(e){var t=JSON.parse(e.response);n(t),console.log(t)}))}},{key:"deleteArticle",value:function(t){e.request("delete","POST",t,(function(e){var t=JSON.parse(e.response);console.log(t)}))}},{key:"getMostRecentArticles",value:function(t,n){e.request("most-recent","POST",t,(function(e){var t=JSON.parse(e.response);n(t),console.log(t)}))}}]),e}(),o=function(){function e(){l(this,e)}return r(e,null,[{key:"getUpdateFunction",value:function(e){return function(e){e}}},{key:"lineBreak",value:function(){return document.createElement("br")}},{key:"textElement",value:function(e,t){var n=document.createElement(e),l=document.createTextNode(t);return n.appendChild(l),n}},{key:"clearElement",value:function(e){for(var t=document.getElementById(e);t.firstChild;)t.removeChild(t.firstChild)}},{key:"containerElement",value:function(e){return document.createElement("div")}},{key:"inputElement",value:function(e){var t=document.createElement("input");return t.classList.add("form-control"),t.placeholder=e,t}},{key:"textAreaElement",value:function(e){var t=document.createElement("textarea");return t.classList.add("form-control"),t.placeholder=e,t.rows=30,t}},{key:"formElement",value:function(){return document.createElement("form")}},{key:"buttonElement",value:function(e){var t=document.createElement("button");return t.classList.add("btn"),t.classList.add("btn-outline-success"),t.classList.add("my-2"),t.classList.add("my-sm-0"),t.textContent=e,t.style.marginTop="40px",t}}]),e}();function c(){a.getMostRecentArticles(5,(function(e){p(),document.getElementById("title").appendChild(o.textElement("h1","George Sheng's Code Knowledge Base")),d(e)}))}function d(e){for(var t=document.getElementById("content"),n=function(n){var l=o.containerElement([]),i=o.textElement("h3",e[n].title);l.appendChild(i);var r=function(e){for(var t="",n=0;n<e.length;n++)"\\"===e.charAt(n)?n+=1:"<"===e.charAt(n)?"/"===e.charAt(n+1)?n+=6:n+=5:t+=e.charAt(n);return t.substring(0,300)}(e[n].content),a=o.textElement("p",r);l.appendChild(a),l.classList.add("border"),l.classList.add("article-preview"),l.addEventListener("click",(function(t){p(),function(e){var t=document.getElementById("title"),n=document.getElementById("content");t.appendChild(o.textElement("h1",e.title)),n.appendChild(o.textElement("h5",e.date));var l=e.content,i=0;for(;-1!==l.indexOf("<code>",i);){var r,a=l.indexOf("<code>",i);if(a!==i){r=l.substring(i,a);var c=0;for(console.log(r),console.log(r.indexOf("\n",c));-1!==r.indexOf("\n",c);){var d=r.indexOf("\n",c),s=r.substring(c,d),p=o.textElement("p",s),f=u(s);p.style.paddingLeft=40*f+"px",p.style.lineHeight="100%",n.appendChild(p),c=d+1}var v=o.textElement("p",r.substring(c));n.appendChild(v),n.appendChild(o.lineBreak()),i=a}else{r=l.substring(a+6,l.indexOf("</code>",i));for(var m=0;-1!==r.indexOf("\n",m);){var g=r.indexOf("\n",m),h=r.substring(m,g),E=o.textElement("code",h),y=u(h);E.style.paddingLeft=40*y+"px",E.classList.add("code"),n.appendChild(E),n.appendChild(o.lineBreak()),m=g+1}var k=o.textElement("code",r.substring(m));k.classList.add("code"),n.appendChild(k),n.appendChild(o.lineBreak()),i=l.indexOf("</code>",i)+7}}r=l.substring(i);var x=0;for(;-1!==r.indexOf("\n",x);){var b=r.indexOf("\n",x),O=r.substring(x,b),C=o.textElement("p",O),S=u(O);C.style.paddingLeft=40*S+"px",C.style.lineHeight="100%",n.appendChild(C),x=b+1}var L=o.textElement("p",r.substring(x));n.appendChild(L),n.appendChild(o.lineBreak());var A=u(r.substring(x));L.style.paddingLeft=40*A+"px",L.style.lineHeight="100%"}(e[n])})),t.appendChild(l)},l=0;l<e.length;l++)n(l)}function s(){var e=document.getElementById("search").value;a.searchForArticle(e,(function(t){p();var n=o.textElement("h1",'Search results for "'+e+'":');document.getElementById("title").appendChild(n),d(t)}))}function u(e){for(var t=0,n=0;-1!==e.indexOf("\t",n);)t+=1,n=e.indexOf("\t",n)+1;for(var l=0,i=0;i<e.length&&" "===e.charAt(i);i++)3===l?(t+=1,l=0):l+=1;return t}function p(){o.clearElement("title"),o.clearElement("content")}function f(){p();var e=document.getElementById("title"),t=document.getElementById("content");e.appendChild(o.textElement("h1","Write an Article"));var n=o.inputElement("Article Title"),l=o.textAreaElement("Article Content"),i=o.buttonElement("Submit");i.addEventListener("click",(function(e){i.disabled=!0,a.uploadArticle({title:n.value,content:l.value},(function(e){i.disabled=!1,n.value="",l.value=""}))})),t.appendChild(n),t.appendChild(o.lineBreak()),t.appendChild(l),t.appendChild(i),l.addEventListener("keydown",(function(e){if("Tab"===e.key){e.preventDefault();var t=l.selectionStart,n=l.selectionEnd;l.value=l.value.substring(0,t)+"\t"+l.value.substring(n),l.selectionStart=l.selectionEnd=t+1}if("Enter"===e.key){var i=l.selectionStart,r=l.selectionEnd-i,a=l.value.substr(0,l.selectionStart).split("\n").pop().match(/^\s*/)[0],o=l.value,c=o.substring(0,i),d=o.substring(i,o.length);e.preventDefault(),l.value=c+"\n"+a+d,l.selectionStart=i+a.length+1,l.selectionEnd=r+i+a.length+1}}))}document.getElementById("home").addEventListener("click",c),document.getElementById("search").addEventListener("keydown",(function(e){"Enter"===e.key&&s()})),document.getElementById("searchButton").addEventListener("click",s),document.getElementById("create").addEventListener("click",f),c()}],[[0,1]]]);
//# sourceMappingURL=main.f01d4702.chunk.js.map